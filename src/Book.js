import React from 'react';
import { useGame } from './GameState';

function Book() {
  const { state, dispatch } = useGame();
  const { book } = state;

  if (!book.isOpen) {
    return null;
  }

  const getBookContent = (bookType) => {
    switch (bookType) {
      case 'crossroads':
        return {
          title: "Το Βιβλίο της Γνώσης - Η Διασταύρωση",
          content: `
            <h3>Η Ιστορία της Διασταύρωσης</h3>
            
            <p>Πριν από πολλά χρόνια, ένας σοφός μάγος έγραψε αυτό το βιβλίο για να βοηθήσει τους ταξιδιώτες που θα έρχονταν στη Διασταύρωση. Ήταν ένας τόπος γεμάτος κίνδυνο, αλλά και σοφία για όσους ήξεραν πώς να τον αντιμετωπίσουν.</p>
            
            <h4>Οι Λύκοι της Διασταύρωσης</h4>
            <p>Οι λύκοι που ζουν εδώ δεν είναι σαν τους συνηθισμένους λύκους του χωριού. Είναι πιο δυνατοί, πιο άγριοι και πολύ πιο επικίνδυνοι. Επιτίθενται με γρήγορη κίνηση, χωρίς προειδοποίηση, και μόλις δουν έναν ταξιδιώτη, είναι ήδη αργά για να τρέξεις.</p>
            
            <p>Αλλά ο μεγαλύτερος κίνδυνος είναι ο Τεράστιος Λύκος. Είναι τόσο μεγάλος που καταλαμβάνει τέσσερις θέσεις, και όταν επιτίθεται, η γη τρέμει από τη δύναμή του. Μόνο οι πιο γενναίοι ήρωες μπορούν να τον αντιμετωπίσουν.</p>
            
            <h4>Οι Αράχνες και τα Δηλητήριά τους</h4>
            <p>Στα σκοτεινά μέρη της Διασταύρωσης, ζουν αράχνες που έχουν εξελιχθεί σε πιο επικίνδυνες μορφές. Είναι πιο δυνατές από τις συνηθισμένες αράχνες και επιτίθενται χωρίς φόβο.</p>
            
            <p>Αλλά η πιο τρομακτική είναι η Μεγάλη Αράχνη. Όπως ο Τεράστιος Λύκος, καταλαμβάνει τεράστιο χώρο και μπορεί να επιτεθεί από απόσταση. Αλλά το χειρότερο είναι ότι φέρνει δηλητήριο στα νύχια της.</p>
            
            <h4>⚠️ Το Δηλητήριο της Μεγάλης Αράχνης</h4>
            <p>Όταν η Μεγάλη Αράχνη σε δηλητηριάσει, θα νιώσεις τον πόνο αμέσως. Το δηλητήριο διασκορπίζεται στο αίμα σου και κάθε κίνηση, κάθε πληγή στη μάχη, θα σε κάνει να χάνεις ζωή. Είναι ένας αργός θάνατος που μόνο τα φίλτρα θεραπείας μπορούν να σταματήσουν.</p>
            
            <h4>💊 Η Σωτηρία: Τα Φίλτρα Θεραπείας</h4>
            <p>Ο σοφός μάγος που έγραψε αυτό το βιβλίο είχε δοκιμάσει το δηλητήριο της Μεγάλης Αράχνης και είχε βρει τη λύση. Τα φίλτρα θεραπείας, είτε τα συνηθισμένα είτε τα φορητά, περιέχουν μια ειδική ουσία που εξουδετερώνει το δηλητήριο.</p>
            
            <p>Αλλά πρέπει να είσαι γρήγορος! Μόλις νιώσεις το δηλητήριο, πιες ένα φίλτρο αμέσως. Μην περιμένεις, γιατί κάθε στιγμή που χάνεις είναι στιγμή που το δηλητήριο γίνεται πιο ισχυρό.</p>
            
            <h4>🎯 Η Σοφία του Μάγου</h4>
            <p>Ο μάγος έγραψε επίσης μερικές συμβουλές για τους γενναίους ταξιδιώτες:</p>
            
            <ul>
              <li>Πρόσεξε τη Μεγάλη Αράχνη - το δηλητήριό της είναι θανατηφόρο</li>
              <li>Κράτα πάντα φίλτρα θεραπείας για έκτακτη ανάγκη</li>
              <li>Οι λύκοι είναι γρήγοροι - δεν θα έχεις χρόνο να σκεφτείς</li>
              <li>Η Μεγάλη Αράχνη μπορεί να σε επιτεθεί από μακριά</li>
              <li>Μην υποτιμάς τον κίνδυνο - αυτή η περιοχή έχει σκοτώσει πολλούς</li>
            </ul>
            
            <p>Αυτό το βιβλίο είναι η ελπίδα σου. Διάβασέ το καλά, θυμήσου τις συμβουλές του μάγου, και ίσως ζήσεις για να διηγηθείς την ιστορία σου.</p>
            
            <p><strong>Καλή τύχη, γενναίε ταξιδιώτη. Η Διασταύρωση περιμένει...</strong></p>
          `
        };
      case 'crossroadsCapitals':
        return {
          title: "Το Βιβλίο των Πρωτευουσών - Γεωγραφική Γνώση",
          content: `
            <h3>Οι Πρωτεύουσες του Κόσμου</h3>
            
            <p>Αυτό το βιβλίο περιέχει σημαντικές πληροφορίες για τις πρωτεύουσες των μεγαλύτερων χωρών του κόσμου. Η γνώση αυτή είναι πολύτιμη για κάθε ταξιδιώτη που θέλει να κατανοήσει τον κόσμο.</p>
            
            <h4>🇺🇸 ΗΠΑ - Ουάσιγκτον</h4>
            <p>Η Ουάσιγκτον είναι η πρωτεύουσα των Ηνωμένων Πολιτειών. Είναι γνωστή για τα ιστορικά μνημεία και τη Λευκή Οικία.</p>
            
            <h4>🇲🇽 Μεξικό - Πόλη του Μεξικού</h4>
            <p>Η Πόλη του Μεξικού είναι η μεγαλύτερη πόλη της Βόρειας Αμερικής. Είναι γνωστή για την πλούσια κουλτούρα και την αρχιτεκτονική.</p>
            
            <h4>🇨🇳 Κίνα - Πεκίνο</h4>
            <p>Το Πεκίνο είναι η πρωτεύουσα της Κίνας. Είναι γνωστό για την Απαγορευμένη Πόλη και το Μεγάλο Τείχος.</p>
            
            <h4>🇮🇳 Ινδία - Νέο Δελχί</h4>
            <p>Το Νέο Δελχί είναι η πρωτεύουσα της Ινδίας. Είναι γνωστό για τα ιστορικά μνημεία και τη διαφορετική κουλτούρα.</p>
            
            <h4>🇷🇺 Ρωσία - Μόσχα</h4>
            <p>Η Μόσχα είναι η πρωτεύουσα της Ρωσίας. Είναι γνωστή για το Κρεμλίνο και την Εκκλησία του Αγίου Βασιλείου.</p>
            
            <h4>🇰🇿 Καζακστάν - Νουρ-Σουλτάν</h4>
            <p>Το Νουρ-Σουλτάν είναι η πρωτεύουσα του Καζακστάν. Είναι μια μοντέρνα πόλη με εντυπωσιακή αρχιτεκτονική.</p>
            
            <p><strong>Η γνώση των πρωτευουσών είναι η γνώση του κόσμου!</strong></p>
          `
        };
      case 'treasureFrozenBomb':
        return {
          title: "Το Βιβλίο της Γνώσης - Η Παγωτική Βόμβα",
          content: `
            <h3>Πώς να νικήσεις τον Μεγάλο Τρολ</h3>
            <p>Ο Μεγάλος Τρολ είναι πανίσχυρος και δύσκολος αντίπαλος. Όμως υπάρχει ένα μυστικό όπλο: η <strong>Παγωτική Βόμβα</strong>.</n>
            <p>Με την Παγωτική Βόμβα, μπορείς να <strong>παγώσεις</strong> τον εχθρό για <strong>5 γύρους</strong>. Όσο είναι παγωμένος, δεν μπορεί να κάνει καμία ενέργεια.</p>
            <h4>Πώς χρησιμοποιείται;</h4>
            <ul>
              <li>Μάζεψε την Παγωτική Βόμβα από το Κάστρο των Τρολ.</li>
              <li>Μπες στη μάχη και στις επιλογές πάτησε το κουμπί της βόμβας (❄️).</li>
              <li>Ο εχθρός θα παγώσει αμέσως για 5 γύρους. Εκμεταλλεύσου τον χρόνο για να επιτεθείς!</li>
            </ul>
            <p><strong>Συμβουλή:</strong> Χρησιμοποίησέ την όταν ο εχθρός είναι δυνατός ή όταν έχεις χαμηλή ζωή.</p>
          `
        };
      default:
        return {
          title: "Το Βιβλίο της Γνώσης",
          content: "<p>Αυτό το βιβλίο περιέχει σημαντικές πληροφορίες για αυτή την περιοχή.</p>"
        };
    }
  };

  const bookData = getBookContent(book.bookType);

  return (
    <div className="book-overlay">
      <div className="book-modal">
        <div className="book-header">
          <h2>{bookData.title}</h2>
          <button 
            className="close-button"
            onClick={() => dispatch({ type: 'CLOSE_BOOK' })}
          >
            ✕
          </button>
        </div>
        <div 
          className="book-content"
          dangerouslySetInnerHTML={{ __html: bookData.content }}
        />
      </div>
    </div>
  );
}

export default Book; 